<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <h1>Hello</h1>
</head>
<body>
    <label for="descriptio">Description</label>
    <input id="description" />
    <label for="type">Type</label>
    <input id="type" />
    <button id="submit">submit</button>

    <script>
        document.getElementById('submit').addEventListener('click', event =>{
            const description = document.getElementById('description').value;
            const type = document.getElementById('type').value;

            if ('geolocation' in navigator){
            console.log('geolocation available');
            navigator.geolocation.getCurrentPosition(async position => {
                const lat = position.coords.latitude;
                const lng = position.coords.longitude;
                // const type = document.getElementById('type').value;
                // const description = document.getElementById('description').value;


                const data = {lat,lng, description,type};
                const options = {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
            };
            const response = await fetch('/api/crime', options);
            const json = await response.json();
            console.log(json);
            });
      
            } else {
                    console.log('geolocation not available');
            }  
        });
       

    </script>
    <!-- <div>
        <h1 class="status"></h1>
        <button class="find-location">click to get location</button>  
    </div>
    <script src="app.js"></script> -->
</body>
</html>